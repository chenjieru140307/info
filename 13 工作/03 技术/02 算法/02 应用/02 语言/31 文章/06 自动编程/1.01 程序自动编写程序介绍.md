---
title: 1.01 程序自动编写程序介绍
toc: true
date: 2019-10-11
---
# 程序自动编写程序

实现程序自动编写程序是通用人工智能领域学者们一个共同的梦想，也是我们机器学习组的一个研究方向。与其他AI研究领域类似，在这一领域的探索工作中，存在两种不同的思路，分别是 **符号派（Symbolic Method）和连接派（Connectionism）**。

## 符号派

符号派秉承了**古典AI**的风格，其思路是将所有程序定义在一个空间内并通过搜索方法来寻找一个合适的程序。其中又包含不同的分支，例如DeepCoder所使用的IPS（归纳式）生成方法，以及基于Constraints（限制条件）的求解方法等。符号型程序生成也和机器自动证明（ATP）、编程语言理论（PLT）、静态程序分析（SPA）等领域有着深刻的联系：如果我们能顺着程序语言的语法语义规则进行论证，最终达成问题中需求的逻辑，那么我们也就完成了一个严格正确的程序的生成；反过来，给定一个手工编写的程序，如果我们通过搜索在程序空间中找到了它，那么机器能给出大量程序中隐含的逻辑，为程序员提供另一种看待问题的视角。因此，这类方法能和编程语言一起演化，相互促进。

在基于限制条件的求解方法中，算法不仅从表象上考察输入和输出的特征和其中（可能）蕴含的规律，还能根据问题定义中的符号式限制条件，对程序空间进行更精确的探索。

举例：如果我们用一个可满足模理论求解器（SMT）来玩扫雷游戏，我们可以预先将游戏规则告诉机器，它就能精确地根据当前地图提供的信息进行推导并避免生成触雷的指令。

在这一类问题族谱的另一端，当我们放松条件，不要求输出完全和样例匹配但要尽量接近，就将问题转化成了**符号型回归问题**。一个符号型回归算法执行的是回归任务，它尝试给出一个模型来逼近样例。与其他回归算法不同，符号型回归算法中并没有一个确定的模板公式（例如线性回归的模板是以权重参数给出输入的线性组合）。这类算法与IPS相似，通过搜索方法来寻找最适合当前数据的公式和参数值。Nutonian公司的Eureqa系统即是这类方法的典型代表；据作者称，它能在仅观察钟摆运动数据的情况下自行推导出牛顿定律。

当前这类方法仍然面临的挑战在于，在问题及语言复杂的情况下，其计算量或将不可承受；此外，归纳式的求解方法也不能完全抓住问题的本质，其关键在于问题中给出的输入输出能否完整覆盖问题本质所包含的逻辑，以及从同质输入输出中排除歧义，这往往非常困难。



<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/20191010/y4nb9PfNEgXr.png?imageslim">
</p>



## 连接派

二是**连接派**。随着神经网络的复兴，连接派学者开始使用神经网络来挑战编程任务。与符号型方法的枚举不同，在神经网络型的系统中，算法更多地将程序空间看成一个连续的空间，将程序看作一个由大量参数以及一套可微分的固定规则组成的系统。这样一来，搜索过程无需进行枚举，而是转为在连续空间里面采用可微分优化方法（例如梯度下降）来逼近一个合适的解。由于程序中可能蕴含状态（也就是说，多次调用同一个函数可以得到不同结果），很多连接派的算法都会在网络结构中对内部和外部存储机构进行重点加强。

比如，Google发表的神经元图灵机（Neural Symbolic Machines ，NTM）和后续工作差分神经元计算机（Differentiable Neural Computer，DNC）给出了一个模仿真实计算机架构，利用神经网络学习与预判对外部存储器执行动作序列的方案。神经元符号机（Neural Symbolic Machines）对自然语言进行编码，再根据其特征预测生成一种可组合的函数式编程语句，从而实现访问外部数据，在知识图谱中进行遍历。在神经元编程/解释器中，作者提出将外部状态广泛化，使该算法不仅可以建模存储，也可以建模真实世界中的状态（例如机械臂的位置，摄像头接收的图像等）。算法通过对外部状态的观察，优选一个预先习得的程序来执行，而程序本身又对外部世界造成影响。此外，学界提出了多种对长短时记忆网络（LSTM）的改进方法，使其不仅拥有状态式的短时记忆，也能够结构化的数据进行存取：例如Facebook AI研究院学者提出，可以在LSTM中增加一个栈，入栈出栈的功能由位移式的连接和对操作指令的预测机构实现。这类方法面临的挑战在于过度依赖概率性的决策；由于缺少验证机制，甚至不能保证得到一个“合适”的结果；其次，完全基于神经网络的方法都试图一次性得到答案，也就是说即使能验证出错误，也没有一个明确的方案指导如何撤销错误并重试。

令人感到乐观的是，近几年来上述**两派观点开始融合**，实现了前所未有的效率提升：神经网络使算法具有了一定的直觉，能够根据当前的程序和数据猜测下一条语句，而搜索方法则提供了试错的机会，如果神经网络犯了错误，搜索框架能凭借记忆撤销错误的代码而转向别的方向思考。可以预见，随着这一结合打开新的思路，有利于将人工智能推向越来越广的应用场景。路漫漫其修远兮，我们离教会机器像人一样思考还有相当的距离。但是我们相信，人的智慧是无穷的。随着计算机科学、认知科学、生命科学等众多学科在此汇聚一堂，学者们在愈加深入地理解机器的同时，也会更多地了解我们自己，人机并进，勇攀科学的高峰。



# 相关

- [程序编写程序：泛用人工智能领域的一颗明珠](https://www.msra.cn/zh-cn/news/features/automatic-programming-20170315)
