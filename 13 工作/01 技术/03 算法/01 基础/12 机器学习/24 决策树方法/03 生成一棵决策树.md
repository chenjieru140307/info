

## 生成决策树


决策树：

- 包含一个根结点、若干个内部结点和若干个叶结点。
  - 根结点包含样本全集。
  - 叶结点对应于决策结果，
  - 其他每个结点则对应于一个属性测试
    - 每个结点包含的样本集合根据属性测试的结果被划分到子结点中
  - 从根结点到每个叶结点的路径对应了一个判定测试序列。


流程：


<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/180626/6aBKeL3IiF.png?imageslim">
</p>


在上面过程中，有三种情形会导致递归返回:

- 当前结点包含的样本全属于同一类别，说明这几个样本都属于同一类别，就不需要划分了。
- 当前属性集为空，或是所有样本在所有属性上取值相同，无法划分。应该是没有可以划分的属性值了，这几个样本虽然不知道 label 是不是相同的，但是他们所有的属性值都是相同的。
- 当前结点包含的样本集合为空，不能划分。就是说，没有符合当前这个叶节点对应的属性限制的样本。

在递归返回时对应的处理如下：

- 对于第 1 种情况，说明这个已经正确分类了，哪个节点就是哪个类别。
- 对于第 2 种情况，我们把当前结点标记为叶结点，井将其类别设定为该结点所含样本最多的类别。
- 对于第 3 种情况，同样把当前结点标记为叶结点，但将其类别设定为其父结点所含样本最多的类别。


注意，第 2、3 这两种情形的处理实质是不同的：

- 情形 2 是在利用当前结点的后验分布。
- 情形 3 则是把父结点的样本分布作为当前结点的先验分布。
