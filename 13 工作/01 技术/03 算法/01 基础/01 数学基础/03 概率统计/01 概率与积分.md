
# 概率密度函数 累积分布函数




## 概率密度函数


概率密度函数 Probability Density Function pdf


概率：

- $P(x)\in [0,1]$
- 一个事件概率为 0 并不意味着事件不会发生，比如桌面上仍一枚针，扎到某个点上，桌面上的一个点被扎到的概率为 0，但是还是发生了。（没明白）
- 一个事件的概率为 1 并不意味着一定发生。模拟退火算法中以概率 1 能够取得最优值，没有说一定能取得最优值。（没明白）


## 累积分布函数


累积分布函数 cumulative distribution function CDF

累计分布函数：$\Phi (x)=P(x\leq 0)$


- $\Phi (x)$ 一定为单增函数
- $\min(\Phi(x))=0$，$\max(\Phi(x))=1$
- 因此，上面两条反过来，将值域为 [0,1] 的某函数 $y=f(x)$ 看成 $y$ 事件的累积概率 **也就是说满足这个条件的函数，一定意义上可以用概率论的一些知识来解决。这个思想很重要。为什么？**
- 若 $y=f(x)$ 可导，则 $p(x)=f'(x)$ 为某概率密度函数




# 离散随机变量与连续随机变量


## 离散随机变量


假设随机变量 $X$ 的取值域为$Ω=\{x_i\}_{i=1}^\infty$，那么对于任何一个 $x_i$，事件$X = x_i$ 的概率记为 $P(x_i )$。

对于Ω的任何一个子集 $S=\{x_{k_i}\}_{i=1}^\infty$ 事件$X\in S$的概率为：

$$P(S)=\sum_{i=1}^{\infty }P(X_i)$$

对于离散随机变量，概率为概率函数的求和。


## 连续随机变量


假设随机变量 X 的取值域为$\mathbb{R}$，那么对于几乎所有$x\in \mathbb{R}$，事件 X=x的概率 P(X=x)都等于 0，多疑我们转而定义概率密度函数 $f:\mathbb{R}\rightarrow [0,\infty )$。对于任何区间(a,b)，事件$X\in (a,b)$的概率为：(**这个地方****也就是说等于 0 实际上也是会发生的是吗？**)

$$P((a,b))=\int_{a}^{b}f(x)dx$$




  - 对于连续型随机变量，概率为概率密度函数的积分。

  - 不论是离散还是连续型随机变量，概率函数和概率密度函数的定义域即为这个随机变量的值域。

  - 作为一个特殊的概率函数，分布函数定义为$\phi (x)=P(X<x)$


我们在此课中只考虑几乎处处连续的概率密度函数，我们不考虑离散，连续混合型的随机变量。


#




#




# 古典概型


理论中和实践中都会用，面试时也会用。


## 普通的问题：


举例：将 n 个不同的球放入 N(N≥n)个盒子中，假设盒子容量无限，求事件 A={每个盒子至多有 1 个球}的概率。

凡是这种问题分两步走，基本事件数和有效事件数。


基本事件总数：









  - 第 1 个球，有 N 种放法；

  - 第 2 个球，有 N 种放法；

  - ......

  - 共：$N^n$N种放法。







每个盒子至多放 1 个球的事件数：







  - 第 1 个球，有 N 种放法；

  - 第 2 个球，有 N-1种放法；

  - 第 3 个球，有 N-2种放法；

  - ......

  - 共：$N(N-1)(N-2)(N-n+1)=P_N^n$




因此，结果是：$P(A)=\frac{P_N^n}{N^n})




这个蕴含这一个有趣结论：生日悖论：




某班上有 50 位同学，至少有 2 人生日相同的概率是多少？


<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/180727/2E34Lh57gA.png?imageslim">
</p>

也就是说虽然有 365 天，但是至少有两个人生日相同的概率非常高。


## 装箱问题：




将 12 件正品和 3 件次品随机装在 3 个箱子中。每箱装 5 件，每箱中恰有 1 件次品的概率是多少？**注意：如果产品是有顺序的，那么箱子也是有顺序的，如果产品是没有顺序的，那么箱子也要时没有顺序的，要保证这两个是一样的。在理解下。**










  - 基本事件数目：将 15 件产品装入 3 个箱子，每箱装 5 件，共有$15!/(5!5!5!)$种装法。**5!哪来的？把 15 个摊在地上，每 5 个装到一个箱子里，就可以理解。**

  - 有效事件数目：先把 3 件次品放入 3 个箱子，有 3!种装法。对于这样的每一种装法，把其余 12 件产品装入 3 个箱子，每箱装 4 件，共有 12!/(4!4!4!)种装法；

  - $P(A)= (3!*12!/(4!4!4!)) / (15!/(5!5!5!)) = 25/91$





这个问题与组合数的关系：


n个物品分成 k 组，使得每组物品的个数分别为$n_1,n_2,\cdots ,n_k，(n=n_1+n_2+\cdots +n_k)$，则不同的分组方法有$\frac{n!}{n_1!n_2!n_3!...n_k!}$种。




而对上述的 k 组进行简化，即 n 个物品分成 2 组，第一组 m 个，第二组 n-m个，则分组方法有$\frac{n!}{m!(n-m)!}$ ，即$C_n^m$组合数。 **得到这个的过程再体会下。嗯，一想到一排物体水平放在地上，然后要装到两个箱子里，就理解了。 组合数学非常重要，因为组合数学可以得到概率，而概率又可以做统计，统计又跟机器学习关系密切。因此组合数学还是要好好学习下的。**





## 商品的推荐：


是为了解释实践中怎么使用：

商品推荐场景中过于咀嚼的产品推荐往往会损害用户的购物体验，在有些场景中，系统会通过一定程度的随机性给用户带来发现的惊喜感。**真的会这样吗？**


那么我们再实际中怎么做呢？ 假设在某推荐场景中，经计算 A 和 B 两个商品与当前访问用户的匹配度分别为 0.8 分和 0.2 分，系统将随机为 A 生成一个均匀分布于 0 到 0.8 的最终得分，为 B 生成一个均匀分布于 0 到 0.2的 最终得分，试计算最终 B 的分数大于 A 的分数的概率。**有些厉害的方法。**







- A=B的直线上方区域，即为 B>A的情况。

- $S_{蓝色}$=0.02 $S_{矩形}$=0.16

- p=0.02/0.16=0.125




<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/180727/2Gf5KE8hGL.png?imageslim">
</p>

可见，在实践中，实际上不是严格按照原始概率进行推荐的。

