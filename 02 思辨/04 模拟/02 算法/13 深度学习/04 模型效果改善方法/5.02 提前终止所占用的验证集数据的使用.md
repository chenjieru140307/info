

## 如何利用提前终止所占用的验证集数据

提前终止需要验证集，这意味着某些训练数据不能被馈送到模型。为了更好地利用这一额外的数据，我们可以在完成提前终止的首次训练之后，进行额外的训练。在第二轮，即额外的训练步骤中，所有的训练数据都被包括在内。


有两个基本的策略都可以用于第二轮训练过程。


一个策略是再次初始化模型，然后使用所有数据再次训练。

如算法 7.2：

<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/20190718/zphecXYkapkV.png?imageslim">
</p>

在这个第二轮训练过程中，我们使用第一轮提前终止训练确定的最佳步数。此过程有一些细微之处。例如，我们没有办法知道重新训练时，对参数进行相同次数的更新和对数据集进行相同次数的遍历哪一个更好。由于训练集变大了，在第二轮训练时，每一次遍历数据集将会更多次地更新参数。



另一个策略是保持从第一轮训练获得的参数，然后使用全部的数据 **继续** 训练。

如算法 7.3：

<p align="center">
    <img width="70%" height="70%" src="http://images.iterate.site/blog/image/20190718/iNTKW6VrCzE9.png?imageslim">
</p>

在这个阶段，已经没有验证集指导我们需要在训练多少步后终止。取而代之，我们可以监控验证集的平均损失函数，并继续训练，直到它低于提前终止过程终止时的目标值。此策略避免了重新训练模型的高成本，但表现并没有那么好。例如，验证集的目标不一定能达到之前的目标值，所以这种策略甚至不能保证终止。





# 相关

- 《深度学习》花书
